# Universal AI Agent Platform - Platform Configuration
platform:
  version: "2.1.0"
  description: "Universal AI Agent Platform shared configuration"

  universal_settings:
    enable_multi_agent: true
    enable_caching: true
    max_concurrent_calls: 4
    testing_mode: true

  # Models used for different platform functions
  models:
    planning: "o4-mini"                 # Model for research topic planning
    research: "o4-mini"                 # Model for individual research calls
    synthesis: "o4-mini"                # Model for final synthesis

  # Universal budget tiers - same pricing and capabilities for ALL agents
  budget_tiers:
    - name: "basic"
      num_research_calls: 0
      description: "1 planning + 1 synthesis call with intelligent architecture"
      time_estimate: "5-10 minutes"
      deliverables:
        - "Comprehensive analysis with detailed insights and specific rationales"
        - "Deep research with specific examples and URLs where applicable"
        - "Market analysis with multiple data sources where relevant"
        - "Risk assessment with detailed considerations"
        - "Implementation suggestions with timeline recommendations"
        - "Cost-benefit analysis with projections where applicable"
      
    - name: "standard"
      num_research_calls: 2
      description: "1 planning + 2 research + 1 synthesis call with intelligent architecture"
      time_estimate: "15-20 minutes"
      deliverables:
        - "Comprehensive analysis with detailed insights and specific rationales"
        - "Deep research with specific examples and URLs where applicable"
        - "Market analysis with multiple data sources where relevant"
        - "Risk assessment with detailed considerations"
        - "Implementation suggestions with timeline recommendations"
        - "Cost-benefit analysis with projections where applicable"
      
    - name: "premium"
      num_research_calls: 4
      description: "1 planning + 4 research + 1 synthesis call with intelligent architecture"
      time_estimate: "20-30 minutes"
      deliverables:
        - "Comprehensive analysis with detailed insights and specific rationales"
        - "Deep research with specific examples and URLs where applicable"
        - "Market analysis with multiple data sources where relevant"
        - "Risk assessment with detailed considerations"
        - "Implementation suggestions with timeline recommendations"
        - "Cost-benefit analysis with projections where applicable"

  # Common prompts used across all agent types
  prompts:

    # Universal synthesis call template - works with ANY agent type and ResearchOutput list
    synthesis_call: |
      {{ agent_personality }}
      
      You are synthesizing comprehensive research findings into a definitive analysis.

      ## Original Analysis Request:
      {% for key, value in user_input.items() %}
      **{{ key }}**: {{ value }}
      {% endfor %}

      ## Research Intelligence Gathered:
      {% for research in research_results %}
      
      ### Research Topic: {{ research.research_topic }}
      
      **Executive Summary**: {{ research.summary }}
      
      **Key Findings**:
      {% for finding in research.key_findings %}
      - {{ finding }}
      {% endfor %}
      
      {% if research.supporting_evidence %}
      **Supporting Evidence**:
      {% for evidence in research.supporting_evidence %}
      - {{ evidence }}
      {% endfor %}
      {% endif %}
      
      {% if research.implications %}
      **Strategic Implications**:
      {% for implication in research.implications %}
      - {{ implication }}
      {% endfor %}
      {% endif %}
      
      **Research Confidence**: {{ research.confidence_level }}
      {% if research.limitations %}**Research Limitations**: {{ research.limitations }}{% endif %}
      
      ---
      {% endfor %}

      ## Synthesis Requirements:
      
      **Your Task**: Integrate ALL research findings above into a comprehensive, authoritative analysis that directly addresses the user's request.

      **Synthesis Approach**:
      - Identify patterns and connections across all research dimensions
      - Weigh evidence quality and confidence levels in your conclusions
      - Address any conflicting findings or data gaps transparently
      - Provide specific, actionable insights supported by the research
      - Distinguish between high-confidence conclusions and areas requiring further investigation

      **Required Output Format**:
      {{ json_schema }}

      **Field Requirements**:
      {{ field_definitions }}

      **Quality Standards**:
      - Ground all conclusions in specific research findings referenced above
      - Provide concrete evidence for ratings, assessments, and recommendations
      - Acknowledge limitations where research confidence is low
      - Ensure each output field is thoroughly addressed with research-backed insights
      - Only output a number for a rating, like "5".

      Generate your comprehensive analysis now:

    # Research topic planning prompt template - for DurableOrchestrator research topic generation
    research_planning: |
      You are a research architecture expert designing a comprehensive analysis strategy.

      ## Agent Expertise & Context:
      {agent_personality}

      ## Analysis Request:
      {user_input_summary}

      ## Research Architecture Task:
      Design exactly {num_topics} research investigations that will provide comprehensive coverage for this analysis. Each research topic should explore a different dimension or perspective to ensure thorough analysis.

      ## Research Design Principles:
      - **Complementary Coverage**: Ensure topics cover different aspects without significant overlap
      - **Progressive Depth**: Mix broad contextual research with specific detailed investigations  
      - **Multiple Perspectives**: Include different stakeholder viewpoints, timeframes, or methodological approaches
      - **Evidence Variety**: Combine quantitative data, qualitative insights, and expert perspectives where relevant
      - **Strategic Focus**: Each topic should directly contribute to answering the user's core questions

      ## Output Format:
      Return ONLY a JSON array of exactly {num_topics} research topics as strings:
      ["Specific research question or focus area 1", "Specific research question or focus area 2", ...]

      Each topic should be a clear, specific research question or focus area that will generate actionable insights for the analysis.

    # Research execution call template - for DurableOrchestrator individual research calls
    research_call: |
      {starter_prompt}
      
      ## Research Assignment:
      **Primary Focus**: {research_topic}
      
      ## Context - User's Request:
      {formatted_user_input}

      ## Research Instructions:
      
      **Your Research Mission**: Conduct thorough investigation of the assigned topic, gathering specific insights, data points, and expert perspectives that will contribute to a comprehensive analysis.

      **Research Approach**:
      - Gather concrete evidence, statistics, examples, and case studies where available
      - Identify key trends, patterns, and relationships relevant to the topic
      - Consider multiple perspectives and potential counterarguments
      - Assess reliability and recency of information sources
      - Focus on actionable insights that inform decision-making

      **Quality Standards**:
      - Prioritize specific, verifiable information over general statements
      - Include quantitative data with context and sources when possible
      - Distinguish between established facts and expert opinions/predictions
      - Note any significant limitations or gaps in available information
      - Provide concrete examples and case studies to support findings

      ## Required Output Format:
      {json_format_instructions}

      **Research Execution**: Now conduct your focused research on "{research_topic}" and provide comprehensive findings in the exact JSON format specified above. Return ONLY the JSON object, no additional text.

    # User instructions template - for Custom GPT guidance on collecting user input
    user_instructions: |
      You are helping a user with **{{ agent_name }}** analysis.

      ## What You Need to Collect

      I need you to gather the following information from the user. Take your time with each field and make sure you understand what they're looking for:

      {% for field in input_fields %}
      ### {{ loop.index }}. {{ field.name }}
      **What this means**: {{ field.description }}
      
      {% endfor %}

      ## How to Collect the Information

      1. **Go through each field one at a time** - Don't overwhelm the user by asking for everything at once
      2. **Explain what you need** - Use the field description to help the user understand what information you're looking for
      3. **Confirm their input** - When they provide information, repeat it back and ask if that's correct
      4. **Be patient** - If they want to change something, help them refine it
      5. **Continue until complete** - Make sure you have ALL the required information before proceeding

      ## Next Steps

      Once you have collected ALL the information above:
      1. Call the `get_pricepoints` endpoint to show pricing options
      2. After they select a tier, call `execute_analysis` with these exact field names:
         {{ field_names_json }}

      ## Important Notes
      - Use the exact field names shown above when calling the API
      - Make sure every required field has been collected before proceeding
      - Be helpful and encouraging throughout the process

      Ready to start? Ask the user for the first piece of information!